<!DOCTYPE html>
<html lang="'zh-CN">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="normalize.css">
    <link rel="stylesheet" href="http://localhost:8080/normalize.css">
    <title>动态获取本地 JSON 数据并渲染为表格</title>
    <style>
        table:not(.table_infoboxstyle)  {
            width: 100%;
            border-collapse: collapse;
        }

        th,
        td {
            border: 1px solid black;
            padding: 5px;
            white-space: nowrap;
            text-align: center;
        }

        #table-container {
            width: 100%;
            overflow-x: auto;
        }
    </style>
    <style>
        #directory {
            width: 500px;
            border: 1px solid #000;
            padding: 10px;
        }

        #directory ul {

        }

        #directory li.uyh {
            padding: 5px 0;
            /* border-bottom: 1px solid #ddd; */
            margin-right: 30px;
            text-align: center;
            padding: 5px;
        }

        a {
            white-space: nowrap;
        }

        .uyh li {
            list-style: outside;
            margin: 20px;
            padding: 0px;
        }
    </style>

</head>

<body>
    <div style="width: 85%;margin: 0 auto; float: right;">
        <h2 style="border-bottom: 1px solid #a2a9b1;">宝可梦特别篇 第M话</h2>

        <!-- <div style="display: inline-block; width: 100%;">
            <div style="display: inline-block;">
                <p style="text-indent: 2em">
                    <b>中文主标题 中文副标题</b>（日文︰<b><span lang="ja">日文主标题 日文副标题</span></b>）是X·Y篇的第N话，也是宝可梦特别篇的第M话。
                </p>
                <center><h2>各版译名</h2></center>
                <div id="table-container2" style="width: 80%; margin: 0 auto;"></div>
                <script>
                    fetch('version.json')       // http://localhost:8080/
                        .then(response => response.json())
                        .then(data => {
                            const table = document.createElement('table');
                            const tableHeadRow = document.createElement('tr');
                            for (const key in data[0]) {
                                const tableHeadCell = document.createElement('th');
                                tableHeadCell.textContent = key;
                                tableHeadRow.appendChild(tableHeadCell);
                            }
                            table.appendChild(tableHeadRow);
                            for (const row of data) {
                            const tableBodyRow = document.createElement('tr');
                                for (const key in row) {
                                    const tableBodyCell = document.createElement('td');
                                    tableBodyCell.textContent = row[key];
                                    tableBodyRow.appendChild(tableBodyCell);
                                }
                                table.appendChild(tableBodyRow);
                            }
                            const tableContainer = document.getElementById('table-container2');
                            tableContainer.appendChild(table);
                        });
                </script>
            </div>
            <table class="table_infoboxstyle tablebg_XY_Y tableouterbd_XY" align="right">
                <tbody>
                    <tr>
                        <td class="tablePOT_bd cell_normal" colspan="2">
                            <span class="tabletitle">中文主标题</span><br><span class="tablesubtitle">中文副标题</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="table_mainimg cell_normal" colspan="2">
                            <a target="_blank" rel="noopener"><img style="aspect-ratio: auto 320 / 429" alt="图片注释"
                                    src="https://media.52poke.com/wiki/thumb/4/40/PS549.png/480px-PS549.png"
                                    referrerpolicy="no-referrer"></a>
                            <br><span lang="ja" class="tablesubtitle">日文标题<br>日文副标题</span>
                        </td>
                    </tr>
                    <tr>
                        <th class="tablepropertiesbg_XY_X cell_normal tablePOT_bd" colspan="2">基本信息</th>
                    </tr>
                    <tr>
                        <th class="celltext_bg cell_normal">系列</th>
                        <td class="celltext_bg cell_normal">宝可梦特别篇</td>
                    </tr>
                    <tr>
                        <th class="celltext_bg cell_normal">章节</th>
                        <td class="celltext_bg cell_normal">第十二章<br>Ｘ·Ｙ篇</td>
                    </tr>
                    <tr>
                        <th class="celltext_bg cell_normal"><span
                                title="通巻（平假名：つうかん，罗马音：tsuukan），俗称单行本（日文：単行本，平假名：たんこうぼん，罗马音：Tankoubon）"
                                class="text_help">总卷[版]</span></th>
                        <td class="celltext_bg cell_normal">
                            第55卷 <img title="小学馆" class="icon_tip" width="15"
                                src="app://8533c2d579a107bbf24dfcf9c571fab7cdfe/C:/Users/123/Desktop/%E6%9D%82%E9%A1%B9/%E5%AE%9D%E5%8F%AF%E6%A2%A6/%E6%9C%AA%E5%91%BD%E5%90%8D/Z-%E9%99%84%E4%BB%B6/%E5%9B%BE%E6%A0%87/icon%E5%B0%8F%E5%AD%A6%E9%A6%86.png"
                                referrerpolicy="no-referrer"><br>
                            Volume XX <img title="VIZ Media（美国碧日）" class="icon_tip" width="15"
                                src="app://8533c2d579a107bbf24dfcf9c571fab7cdfe/C:/Users/123/Desktop/%E6%9D%82%E9%A1%B9/%E5%AE%9D%E5%8F%AF%E6%A2%A6/%E6%9C%AA%E5%91%BD%E5%90%8D/Z-%E9%99%84%E4%BB%B6/%E5%9B%BE%E6%A0%87/iconVIZ%20Media.ico"
                                referrerpolicy="no-referrer"><br>
                        </td>
                    </tr>
                    <tr>
                        <th class="celltext_bg cell_normal"><i><span title="俗称先行本（日文：）" class="text_help">先行版</span></i>
                        </th>
                        <td class="celltext_bg cell_normal">
                            第1卷 <img title="コロコロ" class="icon_tip" width="15"
                                src="app://8533c2d579a107bbf24dfcf9c571fab7cdfe/C:/Users/123/Desktop/%E6%9D%82%E9%A1%B9/%E5%AE%9D%E5%8F%AF%E6%A2%A6/%E6%9C%AA%E5%91%BD%E5%90%8D/Z-%E9%99%84%E4%BB%B6/%E5%9B%BE%E6%A0%87/iconcorocoro.png"
                                referrerpolicy="no-referrer">
                        </td>
                    </tr>
                    <tr>
                        <th class="celltext_bg cell_normal">刊载平台</th>
                        <td class="celltext_bg cell_normal">
                            <span title="COROCORO一级棒！（暂译）" lang="ja" class="text_help">コロコロイチバン!</span> 2022年9月号<br>
                            杂志/媒体
                        </td>
                    </tr>
                    <tr>
                        <th class="celltext_bg cell_normal">章内话数</th>
                        <td class="celltext_bg cell_normal">第1话</td>
                    </tr>
                    <tr>
                        <th class="celltext_bg cell_normal">总话数</th>
                        <td class="celltext_bg cell_normal">第549话</td>
                    </tr>
                    <tr>
                        <th class="tablepropertiesbg_XY_X cell_normal tablePOT_bd" colspan="2">剧情信息</th>
                    </tr>
                    <tr>
                        <th class="celltext_bg celltext_BLradius cell_normal">主要发生地</th>
                        <td class="celltext_bg celltext_BRradius cell_normal">朝香镇</td>
                    </tr>
                </tbody>
            </table>
            <div id="directory" style="margin:10px; display:flex; flex-direction:column;align-items:center;justify-items:center; border: 1px solid black;">
                <center><h2 style="margin: 0;">目录</h2></center>
                <div>
                    <ul style="display:flex;flex-direction:column">
                        <li class="uyh" style="list-style: none; border-bottom: 0px solid #ddd;"><a style="border-bottom: 1px solid #ddd;">事件</a></li>
                        <li class="uyh" style="list-style: none;"><a style="line-height: 30px;">要素</a>
                            <ul style="display:flex;padding: 0;border-top: 1px solid #ddd;">
                                <li style="flex: 1;margin-top: 10px;"><a href="#">人物</a></li>
                                <li style="flex: 1;margin-top: 10px;"><a href="#" style="white-space: nowrap;">宝可梦</a></li>
                                <li style="flex: 1;margin-top: 10px;"><a href="#">物品</a></li>
                                <li style="flex: 1;margin-top: 10px;"><a href="#">场景</a></li>
                                <li style="flex: 1;margin-top: 10px;"><a href="#">系统</a></li>
                            </ul>
                        </li>
                        <li class="uyh" style="list-style: none"><a style="border-bottom: 1px solid #ddd;">足迹</a></li>
                        <li class="uyh" style="list-style: none"><a style="line-height: 30px;">行述</a>
                            <ul style="display:flex;padding: 0;border-top: 1px solid #ddd;">
                                <li style="flex: 1;list-style: inside;margin-top: 10px;"><a href="#">细节</a></li>
                                <li style="flex: 1;list-style: inside;margin-top: 10px;"><a href="#">参考</a></li>
                                <li style="flex: 1;list-style: inside;margin-top: 10px;"><a href="#">错误</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div> -->


        <div><!-- 登场人物 -->
            <!-- <h2 style="border-bottom: 1px solid #a2a9b1;">登场人物</h2>
            <div id="table-container"></div>
            <script>
                fetch('roles.json')   // http://localhost:8080/
                    .then(response => response.json())
                    .then(data => {
                        const table = document.createElement('table');
                        const tableHeadRow = document.createElement('tr');

                        // 使用for...of循环遍历data数组的首元素创建表头
                        for (const key in data[0]) {
                            const tableHeadCell = document.createElement('th');
                            tableHeadCell.textContent = key;
                            tableHeadRow.appendChild(tableHeadCell);
                        }
                        table.appendChild(tableHeadRow);

                        // 使用for...of循环遍历data数组中的每个元素（即每行数据）创建表格内容
                        for (const row of data) {
                        const tableBodyRow = document.createElement('tr');
                            // 使用for...of循环遍历每个元素（即每行数据）的键
                            for (const key in row) {
                                if (row[key]==="None") continue;

                                // 检查row[key]是否为数组，若否，则创建td元素
                                if (!Array.isArray(row[key])) {
                                    const tableBodyCell = document.createElement('td');
                                    tableBodyCell.textContent = row[key];
                                    tableBodyRow.appendChild(tableBodyCell);
                                }
                                // 若是，则在创建td元素的同时添加跨行或跨列属性
                                else {
                                    const tableBodyCell = document.createElement('td');
                                    tableBodyCell.textContent = row[key][0];
                                    tableBodyRow.appendChild(tableBodyCell);
                                    tableBodyCell.rowSpan=row[key][1];
                                    tableBodyCell.colSpan=row[key][2];
                                }
                            }
                            if (tableBodyRow) {
                                table.appendChild(tableBodyRow);
                            }
                        }

                        const tableContainer = document.getElementById('table-container');
                        tableContainer.appendChild(table);
                    });
            </script> -->
        </div>

        <div style="display: none"><!-- 登场人物2 -->
            <!-- <h2><span title="测试能否取json文件的一部分导入，这样就不用为每个表格单独建立一个json了，实验证明可行" style="border-bottom: 1px dotted black;">登场人物2</span></h2>
            <div id="table-container3" style="position: relative;top:0rem;"></div> -->
            <!-- <script>
                fetch('roles_test.json')   // http://localhost:8080/
                    .then(response => response.json())
                    .then(data => {
                        const table = document.createElement('table');
                        const tableHeadRow = document.createElement('tr');
                        // 假设所有条目的结构都是相同的，我们可以从第一个条目的第一个entries中获取列名
                        if (data.length > 0 && data[0].entries.length > 0) {
                            for (const key in data[0].entries[0]) {
                                const tableHeadCell = document.createElement('th');
                                tableHeadCell.textContent = key;
                                tableHeadRow.appendChild(tableHeadCell);
                            }
                            table.appendChild(tableHeadRow);

                            // 遍历数据，查找category为"你好"的条目
                            data.forEach(item => {
                                if (item.category === '你好') {
                                    item.entries.forEach(entry => {
                                        const tableBodyRow = document.createElement('tr');

                                        Object.keys(entry).forEach(key => {
                                            let tableBodyCell = document.createElement('td');
                                            // 检查当前项是否为图片链接
                                            if (typeof entry[key] === 'string' && entry[key].startsWith('http') && entry[key].includes('.jpg') || entry[key].includes('.png') || entry[key].includes('.jpeg') || entry[key].includes('.gif')) {
                                                // 创建并配置img元素
                                                tableBodyCell = document.createElement('td');
                                                const img = document.createElement('img');
                                                img.src = entry[key];
                                                img.alt = `${key} 预览`;
                                                tableBodyCell.appendChild(img);
                                            } else {
                                                // 不是图片链接，直接显示文本
                                                tableBodyCell.textContent = entry[key];
                                            }

                                            tableBodyRow.appendChild(tableBodyCell);
                                        });

                                        table.appendChild(tableBodyRow);
                                    });
                                }
                            });
                        }
                        const tableContainer = document.getElementById('table-container3');
                        tableContainer.appendChild(table);
                    });
            </script> -->
        </div>

        <div>
            <style>
                .toggleButton{
                    background-color: transparent;
                    border: none;
                    position: relative;
                    width: auto;
                    left: 80%;
                    bottom: 8rem;
                }
                .business-card-container {
                    display: flex;
                    flex-wrap: wrap;
                    gap: 16px;
                    height: 500px;
                    border: 1px solid #000;
                    border-radius: 5px;
                }
                .business-card-container1 {
                    /* 旧的 */
                    position: relative;
                    width: 300px;
                    height: 125px;
                    overflow: hidden;
                    border: 1px solid #000;
                    border-radius: 5px;
                }

                .business-card1 {
                    position: absolute;
                    width: 100%;
                    height: 100%;
                    transition: transform 0.5s ease-in-out;
                    transform: translateX(100%);        /* 初始状态下，所有名片都放置在容器的右侧之外 */
                }
                .cardgroup{
                    border: #ff0000 1px solid;
                    margin: 5px;
                    overflow: hidden;
                    width: 300px;
                    height: 125px;
                }

                /* 当前活动的名片应该被放置在容器的左侧 */
                .business-card.active1 {
                    /* 旧的 */
                    transform: translateX(0);
                }
            </style>


            <div class="business-card-container"></div>
            <div style="position:relative; text-align: right; z-index: 999;">
                <button id="toggleBtn">&lt;</button>
                <button id="toggleBtn">&gt;</button>
            </div>
            <script>
                // // 只能添加一个卡片，pass
                // document.addEventListener('DOMContentLoaded', function() {
                //     fetch('cards.json')
                //         .then(response => response.json())
                //         .then(data => {
                //         const container = document.querySelector('.business-card-container');
                //         const cards = [];

                //         data.forEach(cardData => {
                //             const card = document.createElement('div');
                //             card.className = 'business-card';
                //             card.id = cardData.id;

                //             const content = document.createElement('div');
                //             content.style.display = 'flex';

                //             // 创建图片部分
                //             const imgContainer = document.createElement('div');
                //             imgContainer.style.width = '45%';
                //             imgContainer.style.height = '100%';
                //             const img = document.createElement('img');
                //             img.src = cardData.image;
                //             img.style.margin = '50px';
                //             imgContainer.appendChild(img);

                //             // 创建表格部分
                //             const tableContainer = document.createElement('div');
                //             tableContainer.style.display = 'flex';
                //             tableContainer.style.justifyContent = 'center';
                //             tableContainer.style.alignItems = 'center';
                //             tableContainer.style.width = '50%';

                //             const table = document.createElement('table');
                //             const tbody = document.createElement('tbody');

                //             // 添加名称
                //             const headerRow = document.createElement('tr');
                //             const headerCell = document.createElement('th');
                //             headerCell.textContent = cardData.name;
                //             headerRow.appendChild(headerCell);
                //             tbody.appendChild(headerRow);

                //             // 添加详情
                //             cardData.details.forEach(detail => {
                //             const row = document.createElement('tr');
                //             const keyCell = document.createElement('td');
                //             keyCell.textContent = detail.key;
                //             row.appendChild(keyCell);

                //             const valueCell = document.createElement('td');
                //             valueCell.textContent = detail.value;
                //             row.appendChild(valueCell);

                //             tbody.appendChild(row);
                //             });

                //             table.appendChild(tbody);
                //             tableContainer.appendChild(table);

                //             content.appendChild(imgContainer);
                //             content.appendChild(tableContainer);
                //             card.appendChild(content);

                //             container.appendChild(card);
                //             cards.push(card);
                //         });

                //         // 初始显示第一张名片
                //         if (cards.length > 0) {
                //             cards[0].classList.add('active');
                //         }

                //         // 添加按钮事件监听
                //         document.getElementById('prevCard').addEventListener('click', () => {
                //             moveToPreviousCard(cards);
                //         });

                //         document.getElementById('nextCard').addEventListener('click', () => {
                //             moveToNextCard(cards);
                //         });

                //         function moveToPreviousCard(cards) {
                //             let activeIndex = cards.findIndex(card => card.classList.contains('active'));
                //             if (activeIndex > 0) {
                //             cards[activeIndex].classList.remove('active');
                //             cards[activeIndex - 1].classList.add('active');
                //             }
                //         }

                //         function moveToNextCard(cards) {
                //             // 查找当前激活的卡片索引
                //             let activeIndex = cards.findIndex(card => card.classList.contains('active'));

                //             // 如果找到了激活的卡片
                //             if (activeIndex !== -1) {
                //                 // 移除当前卡片的激活状态
                //                 cards[activeIndex].classList.remove('active');

                //                 // 尝试激活下一张卡片
                //                 // 注意检查是否已经到了卡片的末尾
                //                 let nextIndex = activeIndex + 1;
                //                 if (nextIndex < cards.length) {
                //                     cards[nextIndex].classList.add('active');
                //                 } else {
                //                     // 如果已经是最后一张卡片，可以选择重置到第一张卡片或其他逻辑
                //                     // 例如，重置到第一张卡片
                //                     cards[0].classList.add('active');
                //                 }
                //             }
                //         }})})

                document.addEventListener('DOMContentLoaded', function() {
                fetch('roles_cards.json')       // http://localhost:8080/
                    .then(response => response.json())
                    .then(data => {
                        // 创建一个主容器container
                        const container = document.querySelector('.business-card-container');

                        // 设置其样式为flex布局
                        container.style.display = 'flex';
                        container.style.flexDirection = 'row';

                        // 初始化当前组的容器和当前组内卡片的索引.
                        // 不能放在下面的data.forEach(group => {...}) 的内部，那样意味着它们每次迭代到新的组时都会被重新初始化。这导致 currentGroup 总是指向最新创建的组容器，并且 currentIndexInGroup 总是从 0 开始计数，实际上阻止了您跟踪多个组及其卡片的状态。
                        let currentGroup = null;
                        let currentIndexInGroup = 0;
                        // const cards = []; // 定义cards数组


                        data.forEach(group => {  // groups是一个循环变量
                            // 为每个组创建一个组容器groupContainer
                            const groupContainer = document.createElement('div');
                            groupContainer.className = 'cardgroup';

                            // 处理组内的卡片
                            group.cards.forEach(cardData => {
                                // 创建卡片容器card
                                const card = document.createElement('div');
                                card.className = 'business-card';
                                card.id = cardData.id;    // 为卡片设置唯一的ID

                                // 设置其样式为flex布局
                                const content = document.createElement('div');
                                content.style.display = 'flex';

                                // 创建图片的容器imgContainer
                                const imgContainer = document.createElement('div');
                                imgContainer.style.width = '45%';
                                imgContainer.style.height = '100%';
                                const img = document.createElement('img');
                                img.src = cardData.image;
                                img.style.margin = '50px';
                                imgContainer.appendChild(img);

                                // 创建表格部分
                                // 创建表格容器tableContainer，一个div标签
                                const tableContainer = document.createElement('div');
                                tableContainer.style.display = 'flex';
                                tableContainer.style.justifyContent = 'center';
                                tableContainer.style.alignItems = 'center';
                                tableContainer.style.width = '50%';

                                // 创建表格的table、tbody标签
                                const table = document.createElement('table');
                                table.style.marginTop = '5px';
                                table.style.marginBottom = '10px';              // 为table添加样式
                                const tbody = document.createElement('tbody');  // 创建一个新的tbody元素，它是表格的主体部分，用于包含表格的行（tr）。

                                // 创建表头
                                const headerRow = document.createElement('tr'); //创建一个新的表头行（headerRow）。
                                // 创建一个新的表头单元格（headerCell），并设置其文本内容为cardData.name的值。这里cardData是一个包含数据的对象，其中name属性表示表格的名称或标题。
                                const headerCell = document.createElement('th');
                                headerCell.textContent = cardData.name;
                                headerRow.appendChild(headerCell);      // 将表头单元格添加到表头行中。
                                tbody.appendChild(headerRow);  //将表头行添加到tbody中。注意，虽然通常表头（<th>）被放置在<thead>中，但这里它被直接添加到了tbody中。在实际应用中，根据表格的结构和样式需求，可能需要将表头放置在<thead>中。

                                // 添加详情
                                cardData.details.forEach(detail => {  //遍历cardData.details数组。cardData.details是一个包含多个对象的数组，每个对象都有key和value属性，分别表示表格行的键和值。
                                const row = document.createElement('tr');  // 对于数组中的每个details对象，创建一个新的表格行（row）。
                                //对于每个details对象的key，创建一个新的单元格（keyCell），并设置其文本内容为detail.key的值。然后将这个单元格添加到当前行中。
                                const keyCell = document.createElement('td');
                                keyCell.textContent = detail.key;
                                row.appendChild(keyCell);

                                // 对于每个details对象的value，创建另一个新的单元格（valueCell），并设置其文本内容为detail.value的值。然后将这个单元格也添加到当前行中。
                                const valueCell = document.createElement('td');
                                valueCell.textContent = detail.value;
                                row.appendChild(valueCell);

                                tbody.appendChild(row);  // 将填充好的行添加到tbody中。
                                });

                                table.appendChild(tbody);   // 将tbody添加到table中
                                tableContainer.appendChild(table);  // 将table添加到tableContainer中


                                content.appendChild(imgContainer);  // 将图片的容器imgContainer添加到卡片的内容容器content（一个div元素）中，完成标签构建。
                                content.appendChild(tableContainer);  //将表格容器tableContainer添加到卡片的内容容器content元素（一个div元素）中，完成标签构建。
                                //此时，卡片的内容容器content元素包含了两个子元素：imgContainer和tableContainer。


                                card.appendChild(content);  // 将卡片的内容容器content添加到卡片容器card（一个div元素）中，完成标签构建。


                                // 创建切换按钮
                                const toggleButtonL = document.createElement('button');
                                const toggleButtonR = document.createElement('button');
                                toggleButtonL.className = 'toggleButton';
                                toggleButtonR.className = 'toggleButton';
                                toggleButtonL.textContent = '<';
                                toggleButtonR.textContent = '>';
                                toggleButtonL.style.borderColor = 'black';
                                toggleButtonR.style.borderColor = 'black';
                                toggleButtonL.style.zIndex = '10';
                                toggleButtonR.style.zIndex = '10';

                                // 绑定点击事件到按钮
                                // 点击<，显示上一个card，点击>，显示下一个card，当只有一个card或到达第一个或最后一个card时，不显示切换按钮。【未完成】
                                toggleButtonL.addEventListener('click', function() {
                                    const currentDisplay = imgContainer.style.display;
                                    card.style.display = currentDisplay === 'none' ? 'block' : 'block';
                                });
                                toggleButtonR.addEventListener('click', function() {
                                    const currentDisplay = card.style.display;
                                    card.style.display = currentDisplay === 'none' ? 'none' : 'none';
                                });

                                // 将切换按钮添加到卡片中
                                card.appendChild(toggleButtonL);
                                card.appendChild(toggleButtonR);




                                groupContainer.appendChild(card);  // 将卡片容器card添加到组容器groupContainer（一个div元素）中，完成标签构建。


                            });
                                container.appendChild(groupContainer);// 将组容器groupContainer添加到主容器container（一个div元素）中，完成标签构建。

                            // 如果这是第一个组，则激活第一张卡片
                            if (!currentGroup) {
                                currentGroup = groupContainer;
                                currentIndexInGroup = 0;
                                currentGroup.children[currentIndexInGroup].classList.add('active');
                            }
                            });

                            // 全局切换【未完成】
                            document.getElementById('toggleBtn').addEventListener('click', function() {
                                var card1 = document.getElementById("card11");
                                var card2 = document.getElementById("card12");

                                if (card1.style.display === 'none') {
                                    card1.style.display = 'block';
                                    card2.style.display = 'none';
                                } else {
                                    card1.style.display = 'none';
                                    card2.style.display = 'block';
                                }
                            });

                            // document.getElementById('prevCard').addEventListener('click', () => {
                            // moveToPreviousCard();
                            // });

                            // document.getElementById('nextCard').addEventListener('click', () => {
                            // moveToNextCard();
                            // });

                            // function moveToPreviousCard() {
                            // if (currentIndexInGroup > 0) {
                            //     currentGroup.children[currentIndexInGroup].classList.remove('active');
                            //     currentIndexInGroup--;
                            //     currentGroup.children[currentIndexInGroup].classList.add('active');
                            // }
                            // }

                            // function moveToNextCard() {
                            // const cardsInGroup = currentGroup.children;
                            // if (currentIndexInGroup < cardsInGroup.length - 1) {
                            //     currentGroup.children[currentIndexInGroup].classList.remove('active');
                            //     currentIndexInGroup++;
                            //     currentGroup.children[currentIndexInGroup].classList.add('active');
                            // }
                            // }
                        });
                    });
            </script>
        </div>
        <div>
            <h2>结构视图</h2>
            <!-- <style>
                .bubble {
                    position: absolute;
                    border-radius: 50%;
                    text-align: center;
                    line-height: calc(100% - 6px); /* Adjust line height for better centering */
                    font-size: 16px;
                    color: white;
                    pointer-events: none; /* Prevents interaction with bubbles */
                }
            </style>   -->
            <!-- <div id="bubbleChart" style="position: relative; width: 600px; height: 400px; overflow: hidden;">     -->
                <!-- 气泡将在这里通过JavaScript动态添加 -->
            <!-- </div>     -->
            <!-- <script>
                const bubbleData = [
                    { x: 100, y: 100, radius: 30, color: 'red', value: 'A' },
                    { x: 200, y: 200, radius: 40, color: 'blue', value: 'B' },
                    { x: 300, y: 150, radius: 25, color: 'green', value: 'C' },
                    { x: 400, y: 250, radius: 35, color: 'black', value: 'D' },
                    { x: 500, y: 350, radius: 55, color: 'pink', value: 'E' },
                    // 添加更多气泡数据...
                ];

                const chartContainer = document.getElementById('bubbleChart');

                function drawBubble(data) {
                    let intervalId; // 用于存储定时器的ID
                    const bubble = document.createElement('div');
                    bubble.classList.add('bubble');
                    bubble.style.left = `${data.x}px`;
                    bubble.style.top = `${data.y}px`;
                    bubble.style.width = `${data.radius * 2}px`;
                    bubble.style.height = `${data.radius * 2}px`;
                    bubble.style.backgroundColor = data.color;
                    bubble.textContent = data.value;
                    chartContainer.appendChild(bubble);

                    // 为每个气泡添加移动逻辑
                    let speedX = Math.random() * 5 - 2.5; // 随机速度X
                    let speedY = Math.random() * 5 - 2.5; // 随机速度Y

                    function moveBubble() {
                        let newX = parseInt(bubble.style.left, 10) + speedX;
                        let newY = parseInt(bubble.style.top, 10) + speedY;

                        // 防止气泡移出容器
                        if (newX < 0 || newX + bubble.offsetWidth > chartContainer.offsetWidth) {
                            speedX = -speedX;
                        }
                        if (newY < 0 || newY + bubble.offsetHeight > chartContainer.offsetHeight) {
                            speedY = -speedY;
                        }

                        bubble.style.left = `${newX}px`;
                        bubble.style.top = `${newY}px`;
                    }

                    // 使用定时器让气泡移动
                    intervalId = setInterval(moveBubble, 30); // 每30毫秒移动一次

                    // 5秒后停止移动
                    setTimeout(() => {
                        clearInterval(intervalId);
                    }, 5000);
                }

                bubbleData.forEach(drawBubble);
            </script> -->
        </div>
    </div>
</body>
</html>